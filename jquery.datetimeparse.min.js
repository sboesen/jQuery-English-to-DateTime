(function(a){a.fn.extend({datetimeparse:function(b){function s(a){var b=new Date;if(a>b){return true}return false}function r(a){switch(a.toLowerCase()){case"sun":case"sunday":var b=0;break;case"mon":case"monday":var b=1;break;case"tue":case"tues":case"tuesday":var b=2;break;case"wed":case"wednesday":var b=3;break;case"thur":case"thurs":case"thursday":var b=4;break;case"fri":case"friday":var b=5;break;case"sat":case"saturday":var b=6;break}if(b!=undefined){return b}return false}function q(a){if(a==undefined){return false}timeArray=a.split(":");for(var b=0;b<timeArray.length;b++){if(isNaN(parseInt(timeArray[b]))){return false}}if(a.length<=2&&timeArray.length==1){return true}if(timeArray.length==2){return true}if(timeArray.length==3){return true}return false}function p(a){var b=false;switch(a){case"a":case"am":b=true;break;case"p":case"pm":b=true;break}return b}function o(b){b=a.trim(b);if(b.substr(-1)=="/"){return false}if(b.length<=5){return b.charAt(1)=="/"||b.charAt(2)=="/"}else{var c=b.split("/").pop();if(c.length!=2&&c.length!=4){return false}var d=b.charAt(1)=="/"||b.charAt(2)=="/";var e=b.charAt(3)=="/"||b.charAt(4)=="/"||b.charAt(5)=="/";return d&&e}}function n(a,b){return}function m(a,b){return}function l(a){a=typeof a!="undefined"?a:new Date;a.setHours(b.hours);a.setMinutes(b.minutes);a.setSeconds(b.seconds);a.setMilliseconds(b.milliseconds);return a}function k(a){timeArray=a.split(":");if(timeArray.length<3){return 0}return timeArray[2]}function j(a,b){var c=a.split(":");var d=parseInt(c[0]);if(b==undefined){b="am"}if(b.indexOf("a")!=-1){if(d>11){d=d-12}}else{if(d<=11){d=d+12}}return d}function i(a){timeArray=a.split(":");if(timeArray.length<2){return 0}return timeArray[1]}function h(a,b){var c=b.getHours();var d=b.getDay();if(d==a){b.setHours(c+24*7)}else if(d<a){b.setHours(c+24*(a-d))}else if(d>a){b.setHours(c+24*(a-d+7))}return b}function g(a,b,c){switch(b){case"second":case"seconds":c.setSeconds(c.getSeconds()-a);break;case"minute":case"minutes":c.setMinutes(c.getMinutes()-a);break;case"hour":case"hours":c.setHours(c.getHours()-a);break;case"day":case"days":c.setHours(c.getHours()-24*a);break;case"week":case"weeks":c.setHours(c.getHours()-168*a);break;case"month":case"months":c.setMonth(c.getMonth()-a);break;case"year":case"years":c.setFullYear(c.getFullYear()-a);break}}function f(a,b,c){a=parseInt(a);switch(b){case"second":case"seconds":c.setSeconds(c.getSeconds()+a);break;case"minute":case"minutes":c.setMinutes(c.getMinutes()+a);break;case"hour":case"hours":c.setHours(c.getHours()+a);break;case"day":case"days":c.setHours(c.getHours()+24*a);break;case"week":case"weeks":c.setHours(c.getHours()+168*a);break;case"month":case"months":c.setMonth(c.getMonth()+a);break;case"year":case"years":c.setFullYear(c.getFullYear()+a);break}}function e(a,b,c){if(c==null){c=new Date;c=l(c)}if(o(a)){c=new Date(b[0]);c=l(d)}else if(q(a)){var e=j(a,b[0]);var m=i(a);var n=k(a);c.setHours(e);c.setMinutes(m);c.setSeconds(n);b.shift()}else if(r(a)!=false){var p=r(a);c=h(p,c)}else if(a=="at"){if(q(b[0])){var e=j(b[0],b[1]);var m=i(b[0]);var n=k(b[0]);c.setHours(e);c.setMinutes(m);c.setSeconds(n);b.shift()}}else if(a=="on"){if(o(b[0])){oldHours=c.getHours();oldMinutes=c.getMinutes();oldSeconds=c.getSeconds();oldMilliseconds=c.getMilliseconds();c=new Date(b[0]);c.setHours(oldHours);c.setMinutes(oldMinutes);c.setSeconds(oldSeconds);c.setMilliseconds(oldMilliseconds)}else if(r(b[0])!=false){dotw=r(b[0]);h(dotw,c)}b.shift()}else if(a=="+"){f(b[0],b[1],c);b.shift();b.shift()}else if(a=="-"){g(b[0],b[1],c);b.shift();b.shift()}return c}var c={hours:0,minutes:0,seconds:0,milliseconds:0};var b=a.extend(c,b);var d=null;this.each(function(){var b=a.trim(a(this).val());var c=b.split(" ");while(c.length>0){var f=e(c.shift(),c,d);if(f!=null){d=f}}});if(d==undefined){return"Something went wrong!"}return d}})})(jQuery)